diff --git a/tests/test_compress.sh b/tests/test_compress.sh
index c02504f2..05e3e8f7 100755
--- a/tests/test_compress.sh
+++ b/tests/test_compress.sh
@@ -69,7 +69,7 @@ test_xz() {
 	echo . | tr -d '\n\r'
 }
 
-XZ="../src/xz/xz --memory=15MiB --threads=1"
+XZ="../src/xz/xz --memory=28MiB --threads=1"
 XZDEC="../src/xzdec/xzdec --memory=4MiB"
 unset XZ_OPT
 

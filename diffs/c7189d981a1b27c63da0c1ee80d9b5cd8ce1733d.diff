diff --git a/configure.ac b/configure.ac
index f4998374..83a8c665 100644
--- a/configure.ac
+++ b/configure.ac
@@ -538,7 +538,7 @@ main()
 
 Wno_uninitialized=no
 
-if test -n "$GCC" ; then
+if test "x$GCC" = xyes ; then
 	echo
 	echo "GCC extensions:"
 	gl_VISIBILITY
